webpackJsonp([111],{Frtl:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),a=s.n(i),r=s("3Q4o"),c=s("ju4+"),n=s("NYxO"),o=s("da8x"),l=s("JxNM"),h=s("lHA8"),d=s.n(h),u=s("c/Tr"),f=s.n(u);function v(t){if(t.length<=0)return[];var e=f()(new d.a(t));return e.length>6?e.slice(0,6):e}var g=s("y/jF"),m=s("ruAw"),_=(a()({inputValue:function(){return this.searchIndex||""},sellerHistory:function(){return v(this.history)},searchcredithistory:function(){return v(this.credithistory)},loading:function(){return this.$store.state.zj.updatedloading},setflagId:function(){return this.setflagId}},Object(n.c)(["searchIndex","history","credithistory","setflagId"])),a()({location:function(t){switch(this.setsearchIndex(t),this.flagId){case 0:this.$router.push("modelsearch");break;case 1:this.$router.push("creditsearch")}},clear:function(t){switch(this.flagId){case 0:this.sethistory([]);break;case 1:this.setcredithistory([])}},search:function(t){switch(this.params.model=t,this.flagId){case 0:this.$router.push("modelsearch");break;case 1:this.$router.push("creditsearch")}},tab:function(t){this.flagId=t,Object(r.a)(this.$refs.tab.children,t),this.setFlagid(this.flagId)},_searchOrder:function(){var t=this;Object(m.I)().then(function(e){if(e.code===l.c){if(t.sellerList=e.list,t.sellerList.length<=0)return void t.$vux.toast.text("暂无数据","middle");t.sellerList=t.sellerList.slice(0,6)}else t.$vux.toast.text(e.msg,"middle")}).catch(function(e){t.$vux.toast.text(e.msg,"middle")})},_searchcredit:function(){var t=this;Object(o.c)({model:"",pageNow:1,pageSize:l.d}).then(function(e){if(e.code===l.c){if(t.searchList=e.data.map,t.searchList.length<=0)return void t.$vux.toast.text("暂无数据","middle");t.searchList=t.searchList.slice(0,6)}else t.$vux.toast.text(e.msg,"middle")}).catch(function(e){t.$vux.toast.text(e,"middle")})}},Object(n.d)({setFlagid:"FLAGID",sethistory:"SET_HISTORY",setcredithistory:"SET_CREDITHISTORY",setsearchIndex:"SEARCH_INDEX"})),g.a,c.a,{data:function(){return{flagId:0,params:{model:"",goods_type:"",att_type:"",seller_type:"",good_type:"",war_name:"",allsort:"",pageNow:1,pageSize:l.d},sellerList:[],searchList:[],searchlistflag:!0}},mounted:function(){console.log(this.searchcredithistory),this.params.model=this.inputValue,this.flagId=this.setflagId,Object(r.a)(this.$refs.tab.children,this.flagId),this._searchOrder(),this._searchcredit()},computed:a()({inputValue:function(){return this.searchIndex||""},sellerHistory:function(){return v(this.history)},searchcredithistory:function(){return v(this.credithistory)},loading:function(){return this.$store.state.zj.updatedloading},setflagId:function(){return this.setflagId}},Object(n.c)(["searchIndex","history","credithistory","setflagId"])),methods:a()({location:function(t){switch(this.setsearchIndex(t),this.flagId){case 0:this.$router.push("modelsearch");break;case 1:this.$router.push("creditsearch")}},clear:function(t){switch(this.flagId){case 0:this.sethistory([]);break;case 1:this.setcredithistory([])}},search:function(t){switch(this.params.model=t,this.flagId){case 0:this.$router.push("modelsearch");break;case 1:this.$router.push("creditsearch")}},tab:function(t){this.flagId=t,Object(r.a)(this.$refs.tab.children,t),this.setFlagid(this.flagId)},_searchOrder:function(){var t=this;Object(m.I)().then(function(e){if(e.code===l.c){if(t.sellerList=e.list,t.sellerList.length<=0)return void t.$vux.toast.text("暂无数据","middle");t.sellerList=t.sellerList.slice(0,6)}else t.$vux.toast.text(e.msg,"middle")}).catch(function(e){t.$vux.toast.text(e.msg,"middle")})},_searchcredit:function(){var t=this;Object(o.c)({model:"",pageNow:1,pageSize:l.d}).then(function(e){if(e.code===l.c){if(t.searchList=e.data.map,t.searchList.length<=0)return void t.$vux.toast.text("暂无数据","middle");t.searchList=t.searchList.slice(0,6)}else t.$vux.toast.text(e.msg,"middle")}).catch(function(e){t.$vux.toast.text(e,"middle")})}},Object(n.d)({setFlagid:"FLAGID",sethistory:"SET_HISTORY",setcredithistory:"SET_CREDITHISTORY",setsearchIndex:"SEARCH_INDEX"})),components:{Loading:g.a,SearchTitle:c.a}}),p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("div",{staticClass:"search-page"},[s("search-title",{attrs:{value:t.inputValue},on:{search:t.search}}),t._v(" "),s("div",{ref:"tab",staticClass:"tab"},[s("span",{staticClass:"active",on:{click:function(e){t.tab(0)}}},[t._v("型号")]),t._v(" "),s("span",{on:{click:function(e){t.tab(1)}}},[t._v("信用")])]),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:0===t.flagId,expression:"flagId===0"}],staticClass:"session"},[s("div",{staticClass:"item"},[s("h2",{directives:[{name:"show",rawName:"v-show",value:t.sellerList.length,expression:"sellerList.length"}]},[t._v("热门搜索")]),t._v(" "),s("ul",t._l(t.sellerList,function(e,i){return s("li",{key:i,on:{click:function(s){t.location(e.model_code)}}},[t._v(t._s(e.model_code))])}))]),t._v(" "),s("div",{staticClass:"item"},[s("h2",{directives:[{name:"show",rawName:"v-show",value:t.sellerHistory.length,expression:"sellerHistory.length"}]},[t._v("历史搜索")]),t._v(" "),s("h1",{directives:[{name:"show",rawName:"v-show",value:t.sellerHistory.length,expression:"sellerHistory.length"}],staticClass:"clears",on:{click:function(e){t.clear(0)}}},[t._v("清除")]),t._v(" "),s("ul",t._l(t.sellerHistory,function(e,i){return s("li",{key:i,on:{click:function(s){t.location(e)}}},[t._v(t._s(e))])}))])])]),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:1===t.flagId,expression:"flagId===1"}],staticClass:"session"},[s("div",{staticClass:"item"},[s("h2",{directives:[{name:"show",rawName:"v-show",value:t.searchList.length,expression:"searchList.length"}]},[t._v("热门搜索")]),t._v(" "),s("ul",t._l(t.searchList,function(e,i){return s("li",{key:i,on:{click:function(s){t.location(e.company_name)}}},[t._v(t._s(e.company_name))])}))]),t._v(" "),s("div",{staticClass:"item"},[s("h2",{directives:[{name:"show",rawName:"v-show",value:t.searchcredithistory.length,expression:"searchcredithistory.length"}]},[t._v("历史搜索")]),t._v(" "),s("h1",{directives:[{name:"show",rawName:"v-show",value:t.searchcredithistory.length,expression:"searchcredithistory.length"}],staticClass:"clears",on:{click:function(e){t.clear(1)}}},[t._v("清除")]),t._v(" "),s("ul",t._l(t.searchcredithistory,function(e,i){return s("li",{key:i,on:{click:function(s){t.location(e)}}},[t._v(t._s(e))])}))])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading-container"},[s("loading",{attrs:{loadflag:t.loading}})],1)],1)])},staticRenderFns:[]};var x=s("VU/8")(_,p,!1,function(t){s("c7iT")},"data-v-0286c228",null);e.default=x.exports},c7iT:function(t,e){}});