webpackJsonp([18],{"6GOo":function(t,i,e){t.exports=e.p+"static/img/uploada.7f5ba58.png"},KTFo:function(t,i){},v7w5:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("Dd8w"),s=e.n(n),o=e("ruAw"),c=e("NYxO"),a=e("62KO"),l=e("u/8N"),r=e("bVEx"),f=(a.a,s()({goback:function(){0!=this.filelist.length?this.confirmShow=!0:this.$router.back()},onConfirm:function(){this.$vux.toast.text("图片保存成功","middle"),this.$router.back()},onCancel:function(){this.$router.back()},getFile:function(t){var i=this,e=Object(r.a)(t);this.$http.post(l.b,e).then(function(t){for(var e=t.data.data.split(","),n=0;n<e.length;n++)i.filelist.push(e[n])},function(){})},saveupload:function(){var t=this;Object(o.e)({contract:this.filelist.toString(),orderId:this.orderId}).then(function(i){1==i.code&&(t.$vux.toast.text("保存成功","middle"),t.$router.back())}).catch(function(t){})},deleteImg:function(t){this.filelist.splice(t,1)}},Object(c.d)({setFileList:"SET_FILELIST"})),{data:function(){return{imgurl:e("6GOo"),file:"",filelist:[],confirmShow:!1,confirmText:"保存",cancelText:"不保存",orderId:this.$route.query.orderId}},components:{Confirm:a.a},activated:function(){console.log(this.fileList)},methods:s()({goback:function(){0!=this.filelist.length?this.confirmShow=!0:this.$router.back()},onConfirm:function(){this.$vux.toast.text("图片保存成功","middle"),this.$router.back()},onCancel:function(){this.$router.back()},getFile:function(t){var i=this,e=Object(r.a)(t);this.$http.post(l.b,e).then(function(t){for(var e=t.data.data.split(","),n=0;n<e.length;n++)i.filelist.push(e[n])},function(){})},saveupload:function(){var t=this;Object(o.e)({contract:this.filelist.toString(),orderId:this.orderId}).then(function(i){1==i.code&&(t.$vux.toast.text("保存成功","middle"),t.$router.back())}).catch(function(t){})},deleteImg:function(t){this.filelist.splice(t,1)}},Object(c.d)({setFileList:"SET_FILELIST"}))}),u={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"uploadFile"},[e("div",{staticClass:"fixedtop"},[e("div",{staticClass:"header"},[e("a",{staticClass:"iconfont icon-back1 fs48 left cfff",attrs:{href:"javascript:;"},on:{click:t.goback}}),t._v(" "),e("span",{staticClass:"txt"},[t._v("上传合同附件")]),t._v(" "),e("a",{staticClass:"add",attrs:{href:"javascript:;"},on:{click:t.saveupload}},[t._v("保存")])])]),t._v(" "),e("div",{staticClass:"uploadbx"},[e("ul",{staticClass:"uploadul clr"},[t._l(t.filelist,function(i,n){return e("li",{staticClass:"uploadli"},[e("span",[e("img",{attrs:{src:i}})]),t._v(" "),e("i",{staticClass:"close",on:{click:function(i){t.deleteImg(n)}}})])}),t._v(" "),e("li",{staticClass:"uploadli"},[e("div",{staticClass:"addbtn"},[e("span",{staticClass:"addbtnbg"}),t._v(" "),e("input",{staticClass:"addbtnipn",attrs:{type:"file",multiple:"multiple"},on:{change:function(i){t.getFile(i)}}})])])],2)]),t._v(" "),e("confirm",{attrs:{"confirm-text":t.confirmText,"cancel-text":t.cancelText},on:{"on-cancel":t.onCancel,"on-confirm":t.onConfirm},model:{value:t.confirmShow,callback:function(i){t.confirmShow=i},expression:"confirmShow"}},[e("p",{staticStyle:{"text-align":"center"}},[t._v(t._s("是否保存本次编辑结果?"))])])],1)},staticRenderFns:[]};var d=e("VU/8")(f,u,!1,function(t){e("KTFo")},null,null);i.default=d.exports}});