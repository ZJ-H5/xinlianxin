webpackJsonp([32],{EfWk:function(e,a){},hbcQ:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("Xtdt"),i=t("M9A7"),s=t("JxNM"),l=t("y/jF"),o=t("yscp"),r=(l.a,n.default,{data:function(){return{typename:[{name:"phone",flag:!1,val:""},{name:"code",flag:!1,val:""},{name:"password",flag:!1,val:""},{name:"passwordtwo",flag:!1,val:""}],time:s.h,codeDisabled:!1,deal:!1,interval:null,head:"忘记密码"}},computed:{loading:function(){return this.$store.state.zj.updatedloading}},created:function(){},methods:{inputchange:function(e){this._validator(e)},sendcodes:function(){var e=this,a=this.typename[0].name,t=this.typename[0].val;Object(o.a)(a,t)?Object(i.d)({phone:t}).then(function(a){a.code===s.c?e._send():e.$vux.toast.text(a.msg,"middle")}).catch(function(a){e.$vux.toast.text(a.msg,"middle")}):this._validator(0)},register:function(){var e=this;if(this.typename.every(function(e){return Object(o.a)(e.name,e.val)}))this.typename[2].val===this.typename[3].val?Object(i.e)({phone:this.typename[0].val,code:this.typename[1].val,pwd:this.typename[3].val}).then(function(a){a.code===s.c?window.clearInterval(e.interval)&&e.$router.push("/login"):e.$vux.toast.text(a.msg,"middle")}).catch(function(a){e.$vux.toast.text(a.msg,"middle")}):this.$vux.toast.text("两次密码输入不一致","middle");else{var a=this.typename.findIndex(function(e){return e.name===Object(o.d)(e.name,e.val)});this._validator(a)}},_validator:function(e){var a=this,t=this.typename[e].name;this.$validator.validate(t).then(function(e){if(e)return!0;var n=a.$validator.errors.first(t);a.$vux.toast.text(n,"middle")})},_send:function(){var e=this,a=this;a.codeDisabled=!0,this.interval=window.setInterval(function(){a.time--<=0&&(a.time=s.h,a.codeDisabled=!1,window.clearInterval(e.interval))},1e3)}},beforeDestroy:function(){window.clearInterval(this.interval)},destroyed:function(){window.clearInterval(this.interval)},components:{Loading:l.a,MHeader:n.default}}),d={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("transition",{attrs:{name:"slide"}},[t("div",{staticClass:"forgetPassw"},[t("div",{staticClass:"fixedtop"},[t("div",{staticClass:"header"},[t("m-header",{attrs:{title:e.head,headerflag:!0}})],1)]),e._v(" "),t("ul",{staticClass:" clr"},[t("li",{staticClass:"pl3 pr3 loginli"},[t("i",{staticClass:"iconfont icon-phone ml20 mr20"}),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|phone",expression:"'required|phone'"},{name:"model",rawName:"v-model",value:e.typename[0].val,expression:"typename[0].val"}],staticClass:"inp",attrs:{name:"phone",maxlength:"11",type:"text",placeholder:"请输入手机号码"},domProps:{value:e.typename[0].val},on:{blur:function(a){e.inputchange(0)},input:function(a){a.target.composing||e.$set(e.typename[0],"val",a.target.value)}}})]),e._v(" "),t("li",{staticClass:"pl3 pr3 loginli clr"},[t("i",{staticClass:"iconfont icon-youxiang ml20 mr20"}),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|code",expression:"'required|code'"},{name:"model",rawName:"v-model",value:e.typename[1].val,expression:"typename[1].val"}],staticClass:"inp yzminp",attrs:{type:"text",name:"code",placeholder:"请输入验证码"},domProps:{value:e.typename[1].val},on:{blur:function(a){e.inputchange(1)},input:function(a){a.target.composing||e.$set(e.typename[1],"val",a.target.value)}}}),e._v(" "),e.codeDisabled?e._e():t("a",{staticClass:"right yzma",on:{click:e.sendcodes}},[e._v("获取验证码")]),e._v(" "),e.codeDisabled?t("a",{staticClass:"right yzma disabled"},[e._v(e._s(e.time+"s"))]):e._e()]),e._v(" "),t("li",{staticClass:"pl3 pr3 loginli"},[t("i",{staticClass:"iconfont icon-mima ml20 mr20"}),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|password",expression:"'required|password'"},{name:"model",rawName:"v-model",value:e.typename[2].val,expression:"typename[2].val"}],staticClass:"inp",attrs:{name:"password",type:"password",placeholder:"请输入密码"},domProps:{value:e.typename[2].val},on:{blur:function(a){e.inputchange(2)},input:function(a){a.target.composing||e.$set(e.typename[2],"val",a.target.value)}}})]),e._v(" "),t("li",{staticClass:"pl3 pr3 loginli"},[t("i",{staticClass:"iconfont icon-mima ml20 mr20"}),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|passwordtwo",expression:"'required|passwordtwo'"},{name:"model",rawName:"v-model",value:e.typename[3].val,expression:"typename[3].val"}],staticClass:"inp",attrs:{type:"password",name:"passwordtwo",placeholder:"请再次输入密码"},domProps:{value:e.typename[3].val},on:{blur:function(a){e.inputchange(3)},input:function(a){a.target.composing||e.$set(e.typename[3],"val",a.target.value)}}})])]),e._v(" "),t("div",{staticClass:"lgbtn pl3 pr3",on:{click:e.register}},[t("a",{staticClass:"lgbtna tc"},[e._v("确认")])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"loading-container"},[t("loading",{attrs:{loadflag:e.loading}})],1)])])},staticRenderFns:[]};var c=t("VU/8")(r,d,!1,function(e){t("EfWk")},null,null);a.default=c.exports}});