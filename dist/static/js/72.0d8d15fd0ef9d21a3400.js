webpackJsonp([72],{"9pNQ":function(t,e){},Rn7l:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Xtdt"),i=a("Cgi1"),n=a("JxNM"),c=a("M9A7"),o=a("yscp"),r=(s.default,{data:function(){return{title:"更换手机",params:{phone:"",code:""},codeDisabled:!1,time:n.h}},created:function(){this.params.phone=this.$route.query.phone,this.params.phone||(this.$vux.toast.text("系统异常","middle"),this.$router.push("accountInform"))},filters:{phoneDoing:function(t){if(t)return t.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2")}},methods:{next:function(){Object(o.a)("code",this.params.code)?this._nextstep():this._validator("code")},inputchange:function(){this._validator("code")},sendcodes:function(){var t=this,e=this.params.phone;Object(o.a)("phone",e)?Object(c.d)({phone:e}).then(function(e){e.code===n.c?t._send():t.$vux.toast.text(e.msg,"middle")}).catch(function(e){t.$vux.toast.text(e,"middle")}):this._validator("phone")},_nextstep:function(){var t=this;Object(i.f)(this.params).then(function(e){e.code===n.c?(window.clearInterval(t.interval),t.$router.push("changePhoneB")):t.$vux.toast.text(e.msg,"middle")}).catch(function(e){t.$vux.toast.text(e,"middle")})},_validator:function(t){var e=this;this.$validator.validate(t).then(function(a){if(a)return!0;var s=e.$validator.errors.first(t);e.$vux.toast.text(s,"middle")})},_send:function(){var t=this,e=this;e.codeDisabled=!0,this.interval=window.setInterval(function(){e.time--<=0&&(e.time=n.h,e.codeDisabled=!1,window.clearInterval(t.interval))},1e3)}},components:{MHeader:s.default},beforeDestroy:function(){window.clearInterval(this.interval)},destroyed:function(){window.clearInterval(this.interval)}}),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"slide"}},[a("div",{staticClass:"changePhoneA"},[a("div",{staticClass:"fixedtop"},[a("m-header",{attrs:{title:t.title,headerflag:!0}})],1),t._v(" "),a("p",{staticClass:"changept tc c6 "},[a("i",[t._v("*")]),t._v("更换前确保安全，需先验证原手机号码")]),t._v(" "),a("ul",{staticClass:" clr"},[a("li",{staticClass:"pl3 pr3 loginli"},[a("span",{staticClass:"fs30 c3 changel"},[t._v("原手机号：")]),t._v(" "),a("span",{staticClass:"fs30 c3 changer"},[t._v(t._s(t._f("phoneDoing")(t.params.phone)))])]),t._v(" "),a("li",{staticClass:"pl3 pr3 loginli clr"},[a("span",{staticClass:"fs30 c3 changel"},[t._v("短信验证码：")]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|code",expression:"'required|code'"},{name:"model",rawName:"v-model",value:t.params.code,expression:"params.code"}],staticClass:"inp yzminp",attrs:{type:"text",name:"code",placeholder:"请输入验证码"},domProps:{value:t.params.code},on:{blur:function(e){t.inputchange()},input:function(e){e.target.composing||t.$set(t.params,"code",e.target.value)}}}),t._v(" "),t.codeDisabled?t._e():a("a",{staticClass:"right yzma",on:{click:t.sendcodes}},[t._v("获取验证码")]),t._v(" "),t.codeDisabled?a("a",{staticClass:"right yzma disabled"},[t._v(t._s(t.time+"s"))]):t._e()])]),t._v(" "),a("div",{staticClass:"lgbtn pl3 pr3"},[a("a",{staticClass:"lgbtna tc",on:{click:t.next}},[t._v("下一步")])]),t._v(" "),a("p",{staticClass:"mt20 c6 pl3 pr3 changeptxt"},[t._v("说明：更换手机后，您的原手机号将不能用于登录，必须使用更换后的手机号进行登录")])])])},staticRenderFns:[]};var d=a("VU/8")(r,l,!1,function(t){a("9pNQ")},null,null);e.default=d.exports}});