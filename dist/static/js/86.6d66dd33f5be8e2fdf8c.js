webpackJsonp([86],{Apca:function(t,e){},TO0d:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("pXPG"),s=a("HD9R"),n=a("aTeQ"),o=a("rHil"),r=a("cHu4"),c=a("rLAy"),d=a("62KO"),l=a("ruAw"),m=(i.default,s.a,n.a,o.a,r.a,c.a,d.a,/^((13|14|15|17|18)[0-9]{1}\d{8})$/),u={data:function(){return{addressData:[],showAddress:!1,item:this.$route.query.item,title:"",arr:[],editaddress:[this.$route.query.item.provinceId+"",this.$route.query.item.cityId+"",this.$route.query.item.regionId+""],text:"",confirmShow:!1,confirmText:"保存",cancelText:"不保存"}},components:{addressMsg:i.default,Popup:s.a,XSwitch:n.a,Group:o.a,XAddress:r.a,Toast:c.a,Confirm:d.a},created:function(){this.getCity()},methods:{goback:function(){""!==this.item.contactName&&""!==this.item.contactMobile&&this.arr!==[]&&""!==this.item.address&&m.test(this.item.contactMobile)?this.saveaddress():this.confirmShow=!0},logHide:function(t,e){for(var a=0;a<t.length;a++)this.arr[a]={id:t[a],name:e[a]}},onCancel:function(){this.$router.back()},onConfirm:function(){return""===this.item.contactName?(this.$vux.toast.text("收货人不能为空","middle"),!1):""===this.item.contactMobile?(this.$vux.toast.text("联系方式不能为空","middle"),!1):m.test(this.item.contactMobile)?this.arr===[]?(this.$vux.toast.text("收货地址不能为空","middle"),!1):""===this.item.address?(this.$vux.toast.text("收货详细地址不能为空","middle"),!1):void this._buyersAppCenterAddressSavedo():(this.$vux.toast.text("手机格式不正确","middle"),!1)},getCity:function(){var t=this,e=this;Object(l.F)({}).then(function(a){if(1==a.code){var i=[],s=[],n=[];a.data.forEach(function(t,a){e.$set(i,a,{name:t.name.toString(),value:t.id.toString()})}),a.data1.forEach(function(t,a){e.$set(s,a,{name:t.name.toString(),value:t.id.toString(),parent:t.parentid.toString()})}),a.data2.forEach(function(t,a){e.$set(n,a,{name:t.name.toString(),value:t.id.toString(),parent:t.parentid.toString()})}),t.addressData=i.concat(s).concat(n)}}).catch(function(t){})},saveaddress:function(){this.onConfirm()},_buyersAppCenterAddressSavedo:function(){var t=this;Object(l.p)({userid:this.$route.query.userid,provinceId:this.arr[0].id,provinceName:this.arr[0].name,cityId:this.arr[1].id,cityName:this.arr[1].name,regionId:this.arr[2].id,regionName:this.arr[2].name,address:this.item.address,contactName:this.item.contactName,contactMobile:this.item.contactMobile,defaultStatus:this.item.defaultStatus,id:this.item.id,type:2}).then(function(e){1===e.code&&(t.$vux.toast.text(e.msg,"middle"),t.$router.back())}).catch(function(t){})},addressDialog:function(){this.$router.back()}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addressChange"},[a("div",{staticClass:"fixedtop"},[a("div",{staticClass:"header"},[a("i",{staticClass:"iconfont icon-back1",on:{click:t.goback}}),t._v(" "),a("span",{staticClass:"txt"},[t._v("修改地址")]),t._v(" "),a("a",{staticClass:"add",on:{click:t.saveaddress}},[t._v("保存")])])]),t._v(" "),a("div",{staticClass:"addrmsg"},[a("ul",{staticClass:"fptxt clr"},[a("li",{staticClass:"flex"},[a("span",{staticClass:"fptxtl"},[t._v("收货人")]),t._v(" "),a("span",{staticClass:"fptxtr flex-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.contactName,expression:"item.contactName"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:t.item.contactName},on:{input:function(e){e.target.composing||t.$set(t.item,"contactName",e.target.value)}}})])]),t._v(" "),a("li",{staticClass:"flex"},[a("span",{staticClass:"fptxtl"},[t._v("联系方式")]),t._v(" "),a("span",{staticClass:"fptxtr flex-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.contactMobile,expression:"item.contactMobile"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:t.item.contactMobile},on:{input:function(e){e.target.composing||t.$set(t.item,"contactMobile",e.target.value)}}})])]),t._v(" "),a("li",{staticClass:"flex flex-align-center"},[a("span",{staticClass:"fptxtl"},[t._v("收货地址")]),t._v(" "),a("group",{staticClass:"flex-1 tr addrbx"},[a("x-address",{attrs:{title:t.title,list:t.addressData,placeholder:"请选择",show:t.showAddress},on:{"update:show":function(e){t.showAddress=e},"on-shadow-change":t.logHide},model:{value:t.editaddress,callback:function(e){t.editaddress=e},expression:"editaddress"}})],1)],1),t._v(" "),a("li",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.address,expression:"item.address"}],staticClass:"txtbx",attrs:{placeholder:"请填写详细地址",maxlength:"30"},domProps:{value:t.item.address},on:{input:function(e){e.target.composing||t.$set(t.item,"address",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"mt40"},[a("group",[a("x-switch",{attrs:{title:"设为默认","value-map":[0,1],checked:1==t.item.defaultStatus},model:{value:t.item.defaultStatus,callback:function(e){t.$set(t.item,"defaultStatus",e)},expression:"item.defaultStatus"}})],1)],1),t._v(" "),a("confirm",{attrs:{"confirm-text":t.confirmText,"cancel-text":t.cancelText},on:{"on-cancel":t.onCancel,"on-confirm":t.onConfirm},model:{value:t.confirmShow,callback:function(e){t.confirmShow=e},expression:"confirmShow"}},[a("p",{staticStyle:{"text-align":"center"}},[t._v(t._s("是否保存本次编辑结果?"))])])],1)},staticRenderFns:[]};var f=a("VU/8")(u,h,!1,function(t){a("Apca")},null,null);e.default=f.exports}});